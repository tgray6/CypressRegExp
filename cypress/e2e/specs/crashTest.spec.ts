const testString = `All right, do you understand and agree to the disclaimer, including receiving calls and texts? All right. So I'm going to read you a brief statement, your under no obligation to enroll, but I'll need your consent to the statement before proceeding. So it is important, all right, it is important, all right, so it is important information provided is correct to the best of your knowledge, and in the attempt to avoid delays of your enrollment application being processed, we would like to verify your information with center of Medicare services prior to enrollment submission, do we have your consent to complete this verification? All right, thank you, can you please grab your red, white, and blue Medicare card, and can I have the Medicare number on there? All right, so Medicare number usually is numbers and letters, it's on a red, white, and blue, on a red, white, and blue Medicare card, it would say hospital, part A and medical part B on it, okay, I'm sorry, could you say one more time, all right, thank you, I'll read it back, I have one, you as an umbrella, D as in dog, zero, Y as in yo-yo, H as in here, four, N as in no, R as in run, four, six, for some reason it's saying the benefit share is not found, although that does look like a Medicare number, it says that it's not found, but it does look like a Medicare number, so I'm guessing that we might just be pronouncing, there might be a learn here that's wrong, but I did just confirm it, right, yeah, it's telling me it's not found, I would try, you know, I would, possibly if you call Medicare directly, okay, it sounds like you definitely do have Medicare, I think you do have Medicare, but this number is wrong, I think that's what's going on, there might be a letter here that's wrong, all right, here I'll confirm it with you again, just to be very sure, this is the number I have here, I have one, the letter U as an umbrella, D as in dog, zero, O T, are you saying T as in tree, there we go, all right, awesome, I was able to pull it up now, there we go, D and T sound very similar, it's my bad, so let's see here, all right, I see the plan that you signed up with is called the Anthem Health Plus, full dual advantage, okay, and it started at the beginning of this year, right, from what I can see, you're actually with Anthem, not with Welcare, the last plan, the plan you were on last year was with Welcare, it was the Welcare dual access, but this year it looks like she signed up for the Anthem plan, Health Plus, full advantage, okay, did you mean to sign up for Welcare, but you signed up for Anthem, so she already called back and said it, this was a mistake and resigned up, and how long ago was that, let me see, right, yes, she's on a whole different insurance carrier, let me see what's available in her area, if you like I could get her signed back up with the Welcare plan, with all her doctors, let me see what's available there, is that what you're looking to do, sign back up with Welcare, all right, so I just want to make sure that her doctors and medications are covered on the plan, are there any doctors that are important to her, doctor, could you spell it for me please, why ED and what, is it Hassan, side Hassan, I have side, which is other name, it's a bit hard to hear with the phone, are you saying is it who's son, or it's hard to hear you, well I have side, but there's a side or side, do you know his other name, because there's a lot of them, there's a lot of side, there's a side Hassan, there's another side, Mohsen, I'm here, I'm just, I'm so sorry, I really am, I can't really pick up what you're putting down for his last name, yeah can you hear me, so I have side, but can you spell his other name, like his either his first or last name, the other name other than side, you know his full name, side what, could you spell that please, thank you, see, okay awesome, so I do see him here, let me make sure he's covered, sorry about that, I just couldn't understand the last name there, gotta pull it up now, see okay, all right awesome, so he is covered, you can continue to see doctor side, are there any doctors that are important to her, okay, so this one's it, just this one, all right, and you see the last step is the prescription medications, make sure they're covered, so what pharmacy does she use, does she go to CVS, Walgreens, you know, Publix, did you say with Publix, the World Care Pharmacy, can you spell it again, sorry, World Care Pharmacy, let me see, okay you're right, I see them, so I do see the World Care Pharmacies, all right, so I see the one you're talking about, but it's not showing up for me here, 51, 255, 15, he'll side, I'm new, got it, okay, so that's actually Bellic here, my bad, I thought you were saying World Care, let me see, got you, all right, there we go, so I got it added now, okay, the final step here is the prescription drug before we get you signed up, and then we'll go with the plan together, do you have like a list of medications, or the name, you know, the prescriptions themselves or a list of them, yes ma 'am, could you spell the first four letters, I see that, what are the milligrams, okay, does she take these, how many did got it, okay, all right, could you spell the first letter, okay, could you spell it, but then say, you know, like for example, Diaz and Dog, P, as in Paul, okay, is it predisone, predisolone, got it, see, what are the milligrams, does she take one a day, all right, got it, next one, whenever you're ready, what are the milligrams, all right, how many did she take a day, very corticin, and what are the milligrams on that, she said it was corticin, okay, so I see one here, it is see as in car, it was in ocean, Ella's in lary, she has in car, and then it's H, as in hair, I as in India, she has in cat, I as in India, and as in no, he has an elephant, all right, for some reason it's not showing up for me here, could you possibly spell the entire medication, C, O, R, T, I see that now, what are the milligrams, is 0 .6, got it, I see that one, what are the milligrams, I see that, is that zero, right, okay, your next one you're ready, yeah, I have glibiside here, on aspirin, so the only aspirin I see here, it would be an aspirin mixed with diphyraramol, dipramadol, extended release capsule, it's a 25 dash, 200 milligram tablet, because if it's just a regular aspirin that you can pick up from from any store, it would be an over-the-counter medication, okay, gotcha, yeah, I'll be over-the-counter, all right, and the other medication, I see potassium chloride, I'm sorry, I don't see a hundred milligrams for this one, the potassium chloride it seems to come into as a solution, yeah, is that a, let me see here, that could possibly be another, all right, that could possibly be another over-the-counter, like a regular potassium pill, are there any others, and again the vitamin B12, it won't show up here, that would be an over-the-counter, all right, awesome, so now we got down your pharmacy, what is that, what sodium, okay, I see that, what are the milligrams, all right, got it, let's go ahead and go over the plan here together, all right, so starting with your monthly premium, it's gonna be $0, the plan is called the well care dual access, all right, it's the HMO, now, okay, yeah, no problem, let me see here, right, so that was the plan you were on right before they switched you to Anthem, you want to go right back to that one, right, okay, so yeah, so yeah, this would be that same exact plan, I am required to go over here with you, it's gonna be fairly simple though, because everything is $0, okay, now you have no deductibles, if you were to stay, so I'm gonna, I am required to review the plan with you before we sign up, so yeah, you have no deductibles, if you were to stay in the hospital longer than a day, it's gonna be $0 for each hospital state, your outpatient hospital coverage, it's $0 for surgical and non-surgical services, hospital observation services is $0, ambulatory surgical centers, $0, all right, so doctor visits to go see a primary care or specialist as well as preventive care is $0, emergency care and or worldwide urgent care is $110, that's only if you're outside the US, diagnostic services labs and imaging is $0, diagnostic tests and procedures, outpatient x-rays, MRIs and cap scans, as well as therapeutic radiology is all zero, all right, now for the shiny stuff, dental vision in here, all right, for dental, they'll cover preventive and comprehensive, so that's your cleanings every, your two cleanings every year, a set of x-rays, two oral exams, fluoride treatment to prevent cavities, and then comprehensive services, that's gonna be more complicated procedures like restorative services, endodontics and parodontics, which are dentures, oral or maximal facial surgery, they can remove adjusts or fix your dentures, and they do cover implants, which is very rare, all zero dollars, and they, this plant has no maximum dental allowance, all right, as long as you need to get it done, you know, there's not a limit on how much money you can use, now for vision, your eye exams fully covered, as well as your diabetic eye exam and glaucoma screening, they give you $200 every year for a new pair of glasses, lenses or frames, okay, now for your ambulance, it's gonna be $0 for ground or air, if you were to stay at a mental health hospital, $0 per stay, individual and group therapy visits are gonna be $0, therapy and rehabilitation, so physical therapy rehabilitation provided by an occupational therapist, and pulmonary rehabilitation is all zero dollars, all right, so that is all I'm required to go over, there are a few additional benefits, I want to make sure you're aware of, like that over the countercard, okay, so it is gonna be here, it's $120, loaded on the well care spendables card every single month, it does roll over, month after month, and expires at the end of the year, okay, do you already know about this card, okay, good, so that, that one, it did get, you know, cancelled whenever you switched over to the new plan, to the anthem plan, but no worries, once we sign you up, you will get the new card in the mail in about seven to 14 days, and, right, it'll come, it'll come in the mail as well in a welcome package with everything that we just discussed, this one offers you $120 every single month, it does roll over, all right, perfect, yes ma 'am, so that is covered as well, right, let me see here, so home health, agency care is zero dollars, see what else here is what, sorry, it's zero dollars, but as far as the actual agency who comes over, you know, you'd have to speak with member services, I'm not exactly sure which agency does it, but member services can help you set it up, but let's see here, if there's anything else, all right, and do you have any questions at all, no problem, awesome, it's good here, now the medications here, see you real quick before we sign you up, this should all be covered, let's take a look, all right, perfect, so your glipicide is a tier one, it's going to be zero dollars, no prioritization of step therapy, quantity limit is 120 tablets in 30 days, predisones are tier one, it's going to be zero dollars, no prioritization of step therapy, no quantity limit, low starting potassium's tier one, zero dollars, no prioritization of step therapy, quantity limit is 30 tablets in 30 days, chlorosign, 0 .6 milligrams tablet, this one's a tier one, so zero dollars, no prioritization of step therapy, quantity limit's 120 in 30 days, your rows of a stat in calcium is a tier one, it's going to be zero dollars, no prioritization of step therapy, quantity limit is 30 tablets in 30 days, tan solution is a tier one, so zero dollars, no prioritization of step therapy, no quantity limit, and out their, out their own sodium, it's a tier one, it's going to be zero dollars, no prioritization of step therapy, quantity limit is 4 in 28 days, awesome, so yeah all your medications are fully covered at zero dollars, now I'll go ahead and get started on filling out the application and then I'll send you a link to your phone so that you can go ahead and walk you through accepting it, I'm here, so I'm almost done filling out the app, the application, I remember, so I do need a hospital just in case of emergency, do you have a hospital in mind or would you like me to find you the nearest one? Oh yeah, the, on the application of hospital is required just in case of emergency, would you like me to find you the closest one? Okay, you have a hospital in mind, if I went on 270-05 right, 76 avenue in Queens, I do also see a different one, let me see, is it in Nassau? New Hyde Park one, gotcha, okay, there is one, let me see here, all right, 1983 Marcus Avenue, a new Hyde Park, perfect, okay, so I do have to pull up her her medicaid number, do you have that? So, I know they sound similar, I'm looking for the medicaid number, not the medic here, not the one that you already gave me, the one you PZRI, not that one I'm talking about, medicaid, they're the ones that help you pay for certain things, okay, I could also look it up using your social if that's all right, I could also once I look it up I could give you the number, all right, thank you, so I just finished the application, all right, so I just finished the application, my supervisor just has to approve it real quick, and then I'll send it to you as a, as a text message, accept, all right man, is your mailing address different from your residential, okay, got it, awesome, the application got approved, so I'm going to go ahead and send this out to you now, see here, all right, so I just sent it out, let me know if you receive a text message, did you receive the text message, you got it, all right, so once you click on that message there should be a link inside, all right, go ahead and click on the link, once you click on the link, all right, good, there should be a, in the middle there, you should see well care, dual access, right, in the plan ID, it says HMO D SNP to eligible, you see that, everything is zero dollars on there, if you scroll down, can you take a look, it says my information in my address, is that all accurate, yeah, go ahead, click that orange next step button, and then it says, my Medicare information, so there's your Medicare number, Medicaid number, Part A and B start date, you don't have to worry about that, just keep, yeah, just go down and to where it says my primary doctor, it's going to ask, are you already a patient of the position you chose, you want to put yes, right, since you're already a patient, and then it says my current coverage, once enrolled, will you have other medical health coverage, will you be the subscriber, or covered as a spouse or dependent, so you have any other coverage, you know, anything like employer coverage, I'm here, can you hear me, all right, so yeah, almost done with the application, it's got to answer these questions, and this one wants to know if you're going to have any other health coverage, anything like employer coverage, so yeah, I mean, what did you put for my current coverage, it's asking if you're going to have any other, it's right, and then it's going to ask if you have any other prescription drug coverage, like VA or trichere, which is military, all right, go ahead and put no on that, all right, now it says how you want to pay your monthly plan premium payments, it is zero dollars, do you want to get a bill in the mail that says it's your dollars, or do you like automatic withholding from your social security check, for zero dollars, buy mail, okay, go ahead and click on get a bill, okay, and then click on the net, the orange next step button on the bottom there, all right, so this is the final page here, under other information, you can choose your preferred language, under accessible format, that's if you want large print, and then choose your race and ethnicity, so let me know when you don't fill in that out, have you filled out the other information tab, all right, did you uh, what part are you on, what part are you on, okay, did you uh, did you, there should be a my plans and point information, there's a box there, I acknowledge I read the above information, fully understand the content of the application, did you click on that, so just to make sure, have you submitted the application yet, or you still, I'm here, so you can't find it, on the last page, if it makes you go back to the top, it might be because, right, yeah, but yeah, let me know once you do go through, make sure every, all the boxes are checked, let me know before you click the submit application, all right, go ahead, put click no, click no on that, uh, well, what page are you on now, all right, well, if you're on the, the third page on the top of it, so just say my information, this is where you pick your preferred language, right, an accessible format, change, oh, this phone number five, one six eight zero, okay, let me change that for a more moment, I'm going to have to send you a, a new text message to update that, all right, what's the, the, the new number, all right here, so bear with me, all right, gonna send you out a new, a new link, I'm here, right now I'm sending you out a new link with the phone number, with the correct phone number, no, it will be a, it will be a different link that's gonna, I'm gonna send out here in just one second, there we go, all right, so I, I just sent a new one there, so this one does have the phone number fixed, so did you receive the, the new text message, I'm here, did you receive the new text message? Yeah, it should, I just sent out a new enrol link, and this new enrol link has the correct phone number, if you, if you could just click on that link and fill out what we did, right, yeah, on the new link, if you go to the, you didn't get a text, all right, let me send another one here, there we go, I sent the link to five one six, eight hundred two four, sorry, two five four two, that's your phone number, right, let me know if you received that link, the text message, sorry, okay, nothing yet, you haven't received the link yet, I'm here, yeah, I sent a new link with it fixed, are you not receiving the text, the text message? No, I'm sorry, the number that I sent it to was five one six eight zero zero two five four two, right, I have, I have that number, I fixed that number in the application, but with the enrol, you know, you have to open up that link and you have to actually submit the application for, to go through, I can't submit it on your end, unless you want to, unless you want to do it over the phone, instead of through text message, I mean if you're not receiving a new, a new text message, we could do the enrolment over the phone if you like, make it a lot simpler, I would just need a verbal signature, you'll submit, okay, or yeah, and whenever you do submit it, could I get the confirmation number afterwards, it should be, it should start with HPT, I'm here, yeah, you said you're gonna submit it, right, with the one with the five one six number, got it, all right, so, yep, so the application is submitted, you will get everything in the mail in about seven to 14 days, the plan starts on March 1st of next month, and lastly I will get you over to the EV enrollment verification team, they're just gonna make sure the application got over to center and Medicare services, they'll be of refold on the line, one moment, do,`;

let scriptTestLower = testString.toLowerCase();

const RsnReferralPlanTypeHMO = [
  /plan will require you to stay in (network|net work|net-work) and get referrals for specialists/g,
  //Policy ID:1222671 "And you may need referrals with an HMO to see specialists
  /\b(you|he|she) may (need|have).{0,10}referral(s?).{0,10}(hmo)?to see.{0,3}(providers|specialist(s)?|especially)/g,
  //Policy ID:1310645 - "And you do not need a referral when you'd like to see a specialist."
  /\b(you(r|'re)?|he|she|it(s| is|'s)?) (do (not)?|don't|does not|doesn't|not|may|won't|will not|does|would).{0,10}(need(ed)?|require(d)?|have to).{0,10}(referral(s)?|refer).{0,20}to see.{0,3}(providers|specialist(s)?|especially)/g,
  /have to get a (referral(s)?|refer) to see.{0,3}(providers|specialist(s)?|especially)/g,
  //Policy ID:1222621 - "usually your primary care provider must approve Must give approval before you use other network providers.
  /\b(your|his|her) (primary care provider(s)?|pcp).{0,20}give approv(e|al)? before \b(you|he|she) use other.{0,10}provider(s)?/g,
  //Policy ID:1286912 - " Now this is an HMO plan, so you do have to stay within their network or providers and facilities. There's no out-of-network coverage, unless there's an emergency, but again, there are no referrals required on this plan, okay?"
  /\b(h.?m.?o)(\.| |,|\?|!).{0,15}\b(you|he|she).{0,15}stay \b(in|within).{0,10}(network|net work|net-work).{0,10}\b(providers|specialist(s)?|especially|doctor(s)?|pcp|primary care).{0,110}no (referral(s)?|refer).{0,20}plan/g,
  //Policy ID:it's an HMO plan, so you do have to stay in Etna's network, but you do not need a referral to see a primary
  /\b(h.?m.?o)(\.| |,|\?|!).{0,15}\b(you|he|she).{0,15}stay \b(in|within).{0,10}(network|net work|net-work).{0,10}\b(you|he|she).{0,15}(referral(s)?|refer) to see.{0,10}\b(providers|specialist(s)?|especially|doctor(s)?|pcp|primary care)/g,
  //Policy ID:1346403 - HMO plan, which just means you see providers that are in network with the plan.
  /\b(h.?m.?o)(\.| |,|\?|!).{0,25} \b(you|he|she).{0,15}(see) \b(providers).{0,10}\b(in|within).{0,10}(network|net work|net-work)/g,
  //Policy ID:1303305 -  "you may need to referral from your primary care doctor to see a specialist"
  /\b(you(r|'re)?|he|she|it(s| is|'s)?) (do (not)?|don't|does not|doesn't|not|may|won't|will not|does|would).{0,10}(need(ed)?|require(d)?|have to).{0,10}(referral(s)?|refer)(.{0,10}from.{0,10}(primary (care )?(provider(s)?|doctor(s)?)?|pcp))?( to see.{0,3}(providers|specialist(s)?|especially))/g,
  //Policy ID:1288843 - " he has to see only in network doctors and if you have to see especially we have to get a referral"
  /see.{0,3}(providers|specialist(s)?|especially).{0,12}get a (referral(s)?|refer)/g,
  //Policy ID:1310021 - "Specialist visit may require prior authorization or referral"
  /(specialist(s)?|especially) visit (may|might) (need(ed)?|require(d)?|have to) prior authorization or (referral(s)?|refer)/g,
  //Policy ID:1310365 - "With HMOs if he does need to see a specialist he would be getting a referral to go see those specialists"
  /\b(you(r|'re)?|he|she|it(s| is|'s)?) does (need(ed)?|require(d)?|have to).{0,10}see.{0,3}(providers|specialist(s)?|especially).{0,15}get(ting)? a (referral(s)?|refer)/g,
  //Policy ID:1309128 - "Your doctor will be the one that facilitates your health care so doctor web will be the one once you see her that will write to a referral if you do See any additional specialists"
  /will write.{0,10}(referral(s)?|refer).{0,5}\b(you(r|'re)?|he|she|it(s| is|'s)?) do see.{0,16}(providers|specialist(s)?|especially)/g,
  //Policy ID:1222707 -  "Also with this plan, you do not need a referral to receive coverage services from the plan's providers" and Policy ID:1301301 -  "you do have to get referrals from your primary care doctors"
  /\b(you|he|she).{0,20}(need(ed)?|require(d)?|have to|get).{0,10}referral.{0,30}from.{0,10}(((plan(s|'s)?|plane|plain|one) provider(s)?)|(primary (care )?(provider(s)?|doctor(s)?)?|pcp))/g,
  //Policy ID:1287425 - "you do not need a referral for a specialist." and Policy ID:1304625 - "you do not need a referral to receive covered services from this plan"
  /\b(you(r|'re)?|he|she|it(s| is|'s)?) (do (not)?|don't|does not|doesn't|not|going to).{0,10}(need(ed)?|require(d)?|have to|worry).{0,10}referral( to receive cover(ed|age)? service(s)?(.{0,40}(specialist(s)?|especially|plan)))?/g,
  //Policy ID: - "HMO is that you have to get a referral"
  /\b(h.?m.?o)(\.| |,|\?|!).{0,10}\b(you(r|'re)?|he|she) (need(ed)?|require(d)?|have to) get a (referral(s)?|refer)/g,
  //Policy ID:1282878 - " It is an HMO dual special needs plan. Referrals may be required." Policy ID:1282955 - "Now there is no out-of-network coverage for this plan and prior authorization and a referral may be required."
  /(\b(h.?m.?o)\b.{0,20}plan.{0,5})?(referral(s)?|refer) ((may.{0,1}be)|are) required/g,
  //Policy ID:1286091 - " this is the signal preferred full savings Medicare HMO, H4513-089, no referrals required"
  /\b(h.?m.?o)(\.| |,|\?|!).{0,15}no (referral(s)?|refer) (need(ed)?|require(d)?)/g,
  /\b(h.?m.?o)\b.{0,10}\b.{0,80}\b(do (not)?|don't|does not|doesn't|not|may|won't|will not).{0,10}(need(ed)?|require(d)?|have to).{0,10}(referral(s)?|refer)/g,
  //Policy ID:1309459 - HMOs are health care plans offered by an insurance provider with a network of contracted health care providers. Some facilities. HMOs generally require members to select primary care provider, which we have. To coordinate care.
  /network.{0,10} contracted.{0,15} provider(s)?.{0,50}(generally|mean(ing|s)|usually).{0,10}require.{0,15}select.{0,15} (primary (care )?provider).{0,20} coordinate care/g,
  //Policy ID:1309459 - HMOs generally require members to select primary care provider, which we have. To coordinate care. If you need a specialist primary care provider will choose one is also on the network.
  /(primary (care )?provider).{0,20} coordinate care.{0,50}specialist.{0,10} (primary (care )?(provider|doctor)).{0,15} (choose|refer(ral)|assign).{0,15} (one|(in|on) (the )?network)/g,
  //Policy ID:1309247 - "And by the spend HMO, if you did need to see a specialist, it will require a referral from your PCP, okay?"
  /\b(h.?m.?o)(\.| |,|\?|!).{0,30} specialist.{0,20}referral.{0,10} (primary (care )?(provider|doctor)|pcp)/g,
  //Policy ID:1337181 - "HMO, you must receive services from in network providers. If not, neither Medicare nor well-care will be responsible for the cost and a referral is needed to see a specialist"
  /\b(h.?m.?o)(\.| |,|\?|!).{0,30} (services|specialist).{0,20}network provider(s)?.{0,100}referral.{0,20} (specialist)/g,
  //Policy ID:1336480 - "So this is a give back HMO. You had a simple HMO. So you just go to doctor goalie. You do need to refer from him if you need to see a specialist."
  /go to.{0,10} (doctor|dr|primary provider).{0,20} need.{0,10} refer(ral)?.{0,30} specialist/g,
  //Policy ID:1336120 - "And certain procedures or referrals or drugs or services may need a advanced approval referral."
  /(referral(s)?|refer).{0,22}(do (not)?|don't|does not|doesn't|not|may|won't|will not).{0,10}(need(ed)?|require(d)?|have to) a(n)? advanced approval/g,
  //Policy ID:1338621 - "So you'll still have to stay in network, you'll still have to wait for the referrals."
  /still (have|need) .{0,10}wait .{0,10}(referral(s)?|refer)/g,
  //Policy ID:1341520 - "I just want to confirm this is an in-network plan because it's an HMO, which means you have your referrals so you stay in network"
  /\b(h.?m.?o)(\.| |,|\?|!).{0,15}you have .{0,10}(referral(s)?|refer)/g,
  //1335442 - "Irreferral is needed to see a specialist under this plan."
  /(referral).{0,10} need(ed)?.{0,10} specialist.{0,10} this plan/g,
  //Policy ID:1336733 - after March, she would have to see another doctor that's in network. Now, Mr. Posada would write her out a referral to a doctor that's in network.
  /(you|(s)?he).{0,20}see.{0,10}doctor.{0,10}in.network.{0,30} (write|give).{0,15} referral.{0,10}/g,
  //Policy ID:1337277 - And then we need to find a cardiologist as well that's close by. You'll have to get a referral from Dr. Issa Gohee, but I can give you an option or two.
  /(you|(s)?he|we).{0,20}(find|see).{0,10}(cardiologist|specialist|doctor).{0,20}(close by|in.network).{0,30} (write|give|get a).{0,15} referral.{0,10} (dr\.|doctor)/g,
  //Policy ID:1337792 - HMO meaning everything will go to the primary and then she's going to send a referral to any special for any specialist.
  /h.?m.?o.?.{0,50} (go to the primary).{0,40} (referral).{0,30} (specialist|doctor)/g,
  /\b(h.?m.?o)(\.| |,|\?|!).{0,125} (referral)/g,
];

const RsnReferralPlanTypeHMOPOS = [
  /(see|go) out of network providers with the referral from an in network provider/g,
  //Policy ID:1283933 -  "You may need referrals from your primary doctor to see a specialist"
  /\b(you(r|'re)?|he|she) (do (not)?|don't|does not|doesn't|not|may|won't|will not|do|would|might).{0,10}(need(ed)?|require(d)?|have to|look like).{0,10}(referral(s)?|refer).{0,10}from.{0,10}(primary (care )?(provider(s)?|doctor(s)?)?|pcp) to see.{0,3}(providers|specialist(s)?|especially)/g,
  //Policy ID:1304585 - "you won't need referrals to go to other type of specialists"
  /\b(you(r|'re)?|he|she) (do (not)?|don't|does not|doesn't|not|may|won't|will not|do|would|might).{0,10}(need(ed)?|require(d)?|have to|look like).{0,10}(referral(s)?|refer).{0,10}go to.{0,15}(specialist(s)?|especially)/g,
  //Policy ID:1303444 "but it does not say that specialist visits require referrals from your primary now"
  /\b(you(r|'re)?|he|she|it) (do (not)?|don't|does not|doesn't|not|may|won't|will not|do) (say .{0,30})?(need(ed)?|require(d)?|have to|look like).{0,10}(referral(s)?|refer).{0,10}from.{0,10}(primary (care )?(provider(s)?|doctor(s)?)?|pcp)/g,
  //Policy ID:1304693 - "But with that POS word, next to it, it just basically means that whatever specials that you see, as long as they are within the network, you're able to go to them without having a referral."
  /special(s|ist) that \b(you(r|'re)?|he|she) see.{0,25}\b(in|within).{0,10}(network|net work|net-work).{0,20}go to.{0,10}without.{0,10}(referral(s)?|refer)/g,
  //Policy ID:1284602 - "So what's the HMO POS? What that means is like you will need a referral. But you're able to go out of network if you wanted to see a doctor or a specialist"
  /\b(you(r|'re)?|he|she) (do (not)?|don't|does not|doesn't|not|may|won't|will not|do|will) (need(ed)?|require(d)?|have to|look like).{0,10}(referral(s)?|refer).{0,55} to see .{0,15}(providers|specialist(s)?|especially)/g,
  //Policy ID:1309002 - "And with the HMO POS, you don't have to, it doesn't require referral from a specialist"
  /(you(r|'re)?|he|she).{0,20}(do (not)?|don't|does not|doesn't|not|may|won't|will not|do|would|might|not).{0,10}(need(ed)?|require(d)?|have to|look like).{0,10}(referral(s)?|refer) from.{0,10}specialist/g,
  //Policy ID:1310041 - "and this one actually doesn't require the referral, you can go directly to a specialist"
  /(this one|plan).{0,10} (do (not)?|don't|does not|doesn't|not|may|won't|will not|do|would|might|not).{0,10}(need(ed)?|require(d)?|have to|look like).{0,10}(referral(s)?|refer).{0,10}can go directly.{0,10}specialist/g,
  //Policy ID:1310107 - "It's required that you get your wife would have to get a referral from Steve, Dr. D. Cariano, in order to continue to see specialists. ; but we would still have to get that referral from your primary care physician"
  /(need(ed)?|require(d)?|have to|look like).{0,20}get a (referral(s)?|refer).{0,40}to continue to see.{0,3}(providers|specialist(s)?|especially)/g,
  //Policy ID:1310302 - "Some services might require you a referral to see doctors outside of your primary care. If you ever had to see a new specialist"
  /service(s)? (do (not)?|don't|does not|doesn't|not|may|won't|will not|do|would|might|not).{0,10}(need(ed)?|require(d)?|have to|look like).{0,10}(referral(s)?|refer).{0,50}if \b(you(r|'re)?|he|she).{0,13}see.{0,7}(providers|specialist(s)?|especially)/g,
  //Policy ID:1310148 - "So HMO plans typically only have N Network Doctors facilities and sometimes require referrals to see specialists.
  /hmo plan(s)?.{0,15}only have.{0,5}(network|net work|net-work) doctor(s)? .{0,25}(need(ed)?|require(d)?|have to|look like).{0,10}(referral(s)?|refer).{0,55} to see .{0,15}(providers|specialist(s)?|especially)/g,
  //Policy ID:1284894 - "You got to make sure if your doctor say you need referrals to use that"
  /\b(you(r|'re)?|he|she) got to make sure.{0,30}(referral(s)?|refer) to use (that|it|them)/g,
  //Policy ID:1309823 - "HMO POS It used to be it used to be where you would have to get referrals Now no you don't have to get referrals"
  /\b(h.?m.?o)(\.| |,|\?|!|-).{0,10}(p.{0,2}(o|u).{0,2}s.{0,2}|point of service|(p|e).?p.?(o|l))(\.| |,|\?|!).{0,80}\b(do (not)?|don't|does not|doesn't|not|may|won't|will not).{0,10}(need(ed)?|require(d)?|have to|look like).{0,10}(referral(s)?|refer)/g,
  //Policy ID:1334945 - "See if the referrals needed. But you can go to any specialist in our network without a referral. Okay, no referrals needed"
  /(\b(h.?m.?o)(\.| |,|\?|!|-).{0,10}(p.{0,2}(o|u).{0,2}s.{0,2}|point of service|(p|e).?p.?(o|l))(\.| |,|\?|!))?no (referral(s)?|refer).{0,10}(need(ed)?|require(d)?)/g,
  //Policy ID:1336374 - "You don't need a referral to go out of network for your POS benefit"
  /\b(do (not)?|don't|does not|doesn't|not|may|won't|will not).{0,10}(need(ed)?|require(d)?|have to|look like).{0,10}(referral(s)?|refer)(.{0,80}\b(p.?(o|u).?s|point of service|(p|e).?p.?(o|l))(\.| |,|\?|!))?/g,
  //Policy ID:1342379 - "HMO POS plan, so just like the plan you had before, basically what that means if you get sick or anything, just go to doctor, just go to your primary doctor, they'll refer you to any specialist doctors"
  /(\b(h.?m.?o)(\.| |,|\?|!).{0,10}\b(p.{0,2}(o|u).{0,2}s.{0,2}|point of service|(p|e).?p.?(o|l))(\.| |,|\?|!)).{0,160}refer \b(you(r|'re)?|he|she)/g,
  //Policy ID:1338865 - "And it does not look like you need a referral to receive covered services from plan providers"
  /\b(you|he|she).{0,20}(need(ed)?|require(d)?|have to|get).{0,10}referral.{0,30}from.{0,10}(((plan(s|'s)?|plane|plain|one) provider(s)?)|(primary (care )?(provider(s)?|doctor(s)?)?|pcp))/g,
  //Policy ID:1346396 - "Now, this one, I'm looking at as an HMO, POS, what that means is there are certain areas in this plan that you can go to, you can go to, what am I thinking? You can go to outside of the network, certain areas, like dentists, things like that. However, that will cost you a little bit more money"
  /((h.?m.?o)(\.| |,|\?|!|-).{0,10}(po(s|a)|point of service)|hmopos).{0,10}(that|which|means).{0,40}(go (in|out(side)?)( of)? network|certain areas).{0,90}go.{0,10}(in|out(side)?).{0,10}network.{0,80}(higher|will cost).{0,45}(cost|more money)/g,
  //Policy ID:1335426 - The program is HMO-POS, just meaning that normally if she needs to see a specialist, then she would have to get approval from her doctor and get a referral. 
  /\b((h.?m.?o)(\.| |,|\?|!|-).{0,10}(po(s|a)|point of service)|hmopos).{0,35} \b(you|he|she).{0,10}(see|need to see).{0,10}\b(providers|specialist).{0,50}\b(in|within|doctor).{0,15}(referral|network|net work|net-work)/g,
  //Policy ID:1337201 - HMO POS mean you need to stay in the network you need to get a referral from a specialist from your family doctor to see a specialist
  /\b((h.?m.?o)(\.| |,|\?|!|-).{0,10}(po(s|a)|point of service)|hmopos).{0,40} you need.{0,20} (a)? referral.{0,40} doctor.{0,20} see.{0,10}specialist/g,
  //Policy ID:1336213 - this is HMO. If you need it to see a specialist, it will require a referral for you, because this is a PLS. It allows you to travel by a soldered network to your dental services, okay? 
  /(?<!(tty users may dial|customer care team).{0,100})((this)( plan)? (is)?|it is|it's).{0,9}(h.?m.?o)(\.| |,|\?|!).{0,20} see .{0,10} specialist.{0,15} (need|require).{0,10} referral.{0,30} (p(o|l)(s|a)|point of service)/g,
  //Policy ID:1337658 - mistranscribed but says they will need a referral to see specialist " All of your specialists are in networking, mainly the referral to see any other specialists as well too."
  /your specialist(s)?.{0,10} in network.{0,20} referral/g,
  /need.{0,10}referral.{0,10}see.{0,10} (specialist|doctor)/g,
  /\b((h.?m.?o)(\.| |,|\?|!|-).{0,10}(po(s|a)|point of service)|hmopos).{0,140} (referral)/g,
];

const RsnReferralPlanTypePPO = [
  /in and out of network benefits and you can go to any doctor that is contracted with the carrier without a referral/g,
  /not (need(ed)?|require(d)?|have to).{0,10}(referral(s)?|refer).{0,50}in.{0,5}out of network (benefits|flexibility)(.{0,100}not (need(ed)?|require(d)?|have to).{0,10}referral(s))?/g,
  //Policy ID:1222767 - "with the PPO plan, you can go out of network to see doctors and you don't have to get a referral"
  /\b(you|he|she) can (go|use) (outside|out|in).{0,15}(network|net work|net-work) to (see|go).{0,10}\b(providers|specialist(s)?|especially|doctor(s)?|pcp|primary care).{0,10}(do (not)?|don't|does not|doesn't|not|won't|will not|not) (need(ed)?|require(d)?|have to|have to).{0,10}referral/g,
  //Policy ID: "You've been in PPO plans where you typically don't need referrals and you can see in and out of network providers"
  /(\b(p.?p.?o)(\.| |,|\?|!)plan(s)?.{0,32})?(referral(s)?|refer).{0,10}\b(you|he|she) can (see|go) (outside|out|in).{0,15}(network|net work|net-work) \b(providers|specialist(s)?|especially|doctor(s)?|pcp|primary care)/g,
  //Policy ID:1304465 "you don't need a referral when you go and see a doctor"/Policy ID:1310508 - "You're also not required to get referrals"
  /\b(you(r|'re)?|he|she).{0,8}(do (not)?|don't|does not|doesn't|not|may|won't|will not|not).{0,10}(need(ed)?|require(d)?|have to).{0,10}(referral(s)?|refer)(.{0,10}go and see.{0,10}doctor(s)?)?/g,
  //Policy ID:1283771 - "you don't need a referral to go see any doctors and Policy ID: 1302727 - "So you don't have to have a referral to see a ppo"
  /\b(you(r|'re)?|he|she|it).{0,10}(do (not)?|don't|does not|doesn't|not|won't|will not|not).{0,10}(need(ed)?|require(d)?|have to).{0,10}(referral(s)?|refer) to (see|go).{0,10}\b(providers|specialist(s)?|especially|doctor(s)?|pcp|primary care|ppo)/g,
  //Policy ID:1284095 - "Now with this being a PPO, you do not need to have a referral from the primary care doctor to a specialist"
  /\b(you(r|'re)?|he|she|it|ppo).{0,10}(do (not)?|don't|does not|doesn't|not|won't|will not|not).{0,10}(need(ed)?|require(d)?|have to|have).{0,12}(referral(s)?|refer) from .{0,30}\b(providers|specialist(s)?|especially|doctor(s)?|pcp|primary care)/g,
  //Policy ID:1284996 "then also some plans offer a little bit more flexibility than others, allowing you to see specialists without getting a referral."
  /(?<!some plans.{0,10}offer.{0,35})\b(you|he|she) (to|can) (see|go).{0,10}\b(providers|specialist(s)?|especially|doctor(s)?|pcp|primary care) without.{0,15}(referral(s)?|refer)/g,
  //Policy ID:1302250 - "So there's no referral required from a primary care doctor, see the specialist."
  /(referral(s)?|refer).{0,10}(need(ed)?|require(d)?|have to) from .{0,30}\b(providers|specialist(s)?|especially|doctor(s)?|pcp|primary care)/g,
  //Policy ID:1303469 "you don't have to go through a primary care doctor to get a referral for specialists"
  /\b(you|he|she|plan) (do (not)?|don't|does not|doesn't|not|won't|will not|not) have to go through.{0,10}(primary (care )?(provider(s)?|doctor(s)?)?|pcp).{0,10} (referral(s)?|refer)(.{0,10}specialist(s))?/g,
  //Policy ID:1302557 - "That means you can see any doctor in the country that accepts Medicare Right no referrals"
  //Policy ID:1341625 - “this is a PPL So you you can visit specialists without a referral All of your doctors are in network”
  /\b(you|he|she) (to|can) (see|go|visit).{0,10}\b(providers|specialist(s)?|especially|doctor(s)?|pcp|primary care).{0,25}(without|accept(s) medicare).{0,10}(a|no) (referral(s)?|refer)/g,
  //Policy ID:1286664 - "Also, referrals are not required on a PPO plan"
  /(referral(s)?|refer) are not (need(ed)?|require(d)?)/g,
  //Policy ID:1286778 "So she can continue to get referrals from her primary care physician. Like that's totally okay. It's just not required."
  /get (referral(s)?|refer) from \b(you(r|'re)?|he|she|her) \b(providers|specialist(s)?|especially|doctor(s)?|pcp|primary care).{0,50} not (need(ed)?|require(d)?)/g,
  //Policy ID:1303350 - "you won't have to worry about the referrals" and Policy ID:130311 - "This plan does not require any referrals. It's a PPO"
  /\b(you|he|she|plan) (do (not)?|don't|does not|doesn't|not|won't|will not|not) (need(ed)?|require(d)?|have to (worry)?).{0,11}(referral(s)?|refer)/g,
  //Policy ID:1302845 - "you do not need a referral to receive coverage services from plan providers"
  /\b(you(r|'re)?|he|she|it(s| is|'s)?) (do (not)?|don't|does not|doesn't|not|won't|will not|not|going to).{0,10}(need(ed)?|require(d)?|have to|worry).{0,10}referral to receive cover(ed|age)? service(s)?(.{0,40}(specialist|plan))?/g,
  //Policy ID:1302987 - "So, the PPO allows you to go in or out of the network. No referrals needed"
  /(\b(p.?p.?o)(\.| |,|\?|!).{0,25})?(go|use) (outside|out|in).{0,15}(network|net work|net-work).{0,10}(referral(s)?|refer)/g,
  //Policy ID:1283694 - "this is a PPO. A PPO's are a lot more flexible. You don't need referrals"
  /(\b(p.?p.?o)(\.| |,|\?|!).{0,25})?flexible.{0,10}\b(you|he|she) (do (not)?|don't|does not|doesn't|not|won't|will not|not) (need(ed)?|require(d)?|have to|worry).{0,10}referral(s)/g,
  //Policy ID:1288687 - "you want to go with the PPO because that way they don't have to referrals"
  /(\b(p.?p.?o)(\.| |,|\?|!).{0,80})?(do (not)?|don't|does not|doesn't|not|won't|will not|not) (need(ed)?|require(d)?|have to).{0,10}(referral(s)?|refer)/g,
  //Policy ID:1335452 - "This is actually a PPO year you were on an HMO. So no referrals required"
  //Policy ID:1326522 - "this is a PPO. So we'll have in and out of network benefits. No referrals will be required"
  //Policy ID:1344275 - "A Humanity Choice PP Up So, go from Plan That Requires To Have A Referral to the Plans that Require You'd Have No Referral So, you have more freedom"
  /(\b(p.?p.?(up|o))(\.| |,|\?|!).{0,60})?(you can go|(referral(s)?|refer)).{0,40}(need(ed)?|require(d)?(.{0,30}no referral)?|without.{0,20}referral)/g,
  // Now I'm going to provide you a in-network primary care once again until you kind of, if you need to use your primary care to get a specialist, that's no problem. Just telling you that it's not required. Okay. So on the HMOs, it's required, but on the PPOs, it's not.
  /primary.{0,10} (care|doctor|physician).{0,10} specialist.{0,50}not required.{0,60} ppo/g,
  //PPO stands for Preferr providers organization. It lets you go out of the network at a higher cost, of course. But you're able to see any doctor without having to get a referral
  /(\b(p.?p.?o)(\.| |,|\?|!).{0,50})?(lets you go).{0,10} ((not in|out) of( the)? network|no referral).{0,10}(higher cost|need(ed)?|require(d)?).{0,50} without.{0,20} referral/g,
  //Policy ID:1341836 - "here's a H1889-012-00 on a PPO plan. You can, again, you can see doctors inside and outside the network and you also do not refer from your primary care physician to C .A. specialist"
  /(do (not)?|don't|does not|doesn't|not|won't|will not|not) refer from your \b(providers|specialist(s)?|especially|doctor(s)?|pcp|primary care)/g,
  //Policy ID:1335770 - Says it in an unconventional way but gets the point accross:"And, uh, so it, and you said something that if you needed to see a specialist, you've been going to get, you've been getting referrals from, from, uh, from Patricia Williams. Okay. I mean, you can do this. This, this is a, um, this is a PPO plan. I mean, you can independently look, independently look for your own, um, uh, your own specialist"
  /see.{0,10} specialist.{0,50} getting referral(s).{0,90} (with|this is).{0,40} \b(p.?p.?o)(\.| |,|\?|!)plan(s)?.{0,30} you can.{0,30} independ(ently)?.{0,30} your own specialist/g,
  //Policy ID:1336711 - So the name of this plan is the well-care simple open PPO plan. So PPO stands for provider organization. You're able to see doctors without having to referral.
  /(?<!(tty users may dial|customer care team).{0,100})(name of (the|this).{0,10}plan|look(ing)? at|into|(it('s|s| is)?|is) called|you do have|it('s| is) a).{0,125}\b(a?(p|e).?p.?(o|l))(\.| |,|\?|!).{0,80}(referral)/g,
  /(\b(p.?p.?o)(\.| |,|\?|!).{0,125}) referral/g,
];

const RsnReferralPlanTypePFFS = [
  /doctor is willing to accept the terms of the plan prior to seeing you as they can choose not to see you except in emergency situations/g,
  //Policy ID:1297248 - " So if you go out of network with the plan, the doctor just has to agree to the plan in terms and conditions."
  /(outside|out|in).{0,10}(network|net work|net-work).{0,10}plan.{0,10}doctor.{0,15}agree to.{0,15}term(s)? and condition(s)?/g,
];

describe(`Crash`, () => {
  it("RsnReferralPlanTypeHMO", () => {
    LogPatternMatchesAndTestAssert(RsnReferralPlanTypeHMO);
  });

  it("RsnReferralPlanTypeHMOPOS", () => {
    LogPatternMatchesAndTestAssert(RsnReferralPlanTypeHMOPOS);
  });

  it("RsnReferralPlanTypePPO", () => {
    LogPatternMatchesAndTestAssert(RsnReferralPlanTypePPO);
  });

  it("RsnReferralPlanTypePFFS", () => {
    LogPatternMatchesAndTestAssert(RsnReferralPlanTypePFFS);
  });
});
